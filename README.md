<div id="top">
<a href="icons/bookstore.png">
  <img src="icons/bookstore.png" alt="Digital Bookstore Management Application Screenshot" />
</a>
</div>

<h1>
  <img src="icons/bookslogo.png" alt="Logo" width="80" style="vertical-align: middle; margin-right: 8px;">
  Digital Bookstore Management Application
</h1>

<p align="center" style="text-decoration: none">
            <a href="#technologies">Technologies used</a><span> üîπ </span>
            <a href="#features">Features</a><span> üîπ </span>
            <a href="#technical-specifications">Technical Specifications</a><span> üîπ </span>
            <a href="#endpoints">Endpoints</a><span> üîπ </span>
            <a href="#how-to-use">How to Use the Project</a><span> üîπ </span>
            <a href="#contact-information">Contact Information</a>
</p>

<a name="top"></a>

<h2>‚ú® Product Description</h2>

<p>A comprehensive web application designed to automate the process of selling books in the digital space. This solution is aimed at bookstore owners who want to efficiently manage their online store and provide high-quality service to customers.</p>

<h2>üéØ Target Audience</h2>

<ul>
  <li> Bookstore owners</li>
  <li> Entrepreneurs in the book trade industry</li>
  <li> Companies specializing in the sale of printed and electronic literature</li>
</ul>

<div id="technologies">
<h2>Technologies used ‚öôÔ∏è</h2>
</div>

<table>
  <tr>
    <td style="border: 1px solid #dbf9ff; padding: 8px; text-align: center;">
      <img src="icons/java.png" width="40"/><br>Java 17
    </td>
    <td style="border: 1px solid #dbf9ff; padding: 8px; text-align: center;">
      <img src="icons/springboot.png" width="40"/><br>Spring Boot
    </td>
    <td style="border: 1px solid #dbf9ff; padding: 8px; text-align: center;">
      <img src="icons/hibernate.png" width="40"/><br>Hibernate
    </td>
    <td style="border: 1px solid #dbf9ff; padding: 8px; text-align: center;">
      <img src="icons/springdata.png" width="40"/><br>Spring Data JPA
    </td>
    <td style="border: 1px solid #dbf9ff; padding: 8px; text-align: center;">
      <img src="icons/springsescurity.webp" width="50"/><br>Spring Boot Security
    </td>
    <td style="border: 1px solid #dbf9ff; padding: 8px; text-align: center;">
      <img src="icons/jwtlogo.png" width="40"/><br>JWT
    </td>
  </tr>
  <tr>
    <td style="border: 1px solid #dbf9ff; padding: 8px; text-align: center;">
      <img src="icons/MySQLLogo.png" width="55"/><br>MySQL 8
    </td>
    <td style="border: 1px solid #dbf9ff; padding: 8px; text-align: center;">
      <img src="icons/mavenlogo.png" width="55"/><br>Maven
    </td>
    <td style="border: 1px solid #dbf9ff; padding: 8px; text-align: center;">
      <img src="icons/mapstruct.png" width="40"/><br>MapStruct
    </td>
    <td style="border: 1px solid #dbf9ff; padding: 8px; text-align: center;">
      <img src="icons/liquibase.svg" width="30"/><br>Liquibase
    </td>
    <td style="border: 1px solid #dbf9ff; padding: 8px; text-align: center;">
      <img src="icons/junit.png" width="40"/><br>JUnit 5
    </td>
    <td style="border: 1px solid #dbf9ff; padding: 8px; text-align: center;">
      <img src="icons/Mockito_Logo.png" width="50"/><br>Mockito
    </td>
  </tr>
  <tr>
    <td style="border: 1px solid #dbf9ff; padding: 8px; text-align: center;">
      <img src="icons/testcontainers.png" width="40"/><br>Testcontainers
    </td>
    <td style="border: 1px solid #dbf9ff; padding: 8px; text-align: center;">
      <img src="icons/docker.png" width="40"/><br>Docker
    </td>
    <td style="border: 1px solid #dbf9ff; padding: 8px; text-align: center;">
      <img src="icons/dockercomposelogo.png" width="40"/><br>Docker Compose
    </td>
    <td style="border: 1px solid #dbf9ff; padding: 8px; text-align: center;">
      <img src="icons/swagger.png" width="40"/><br>Swagger
    </td>
    <td style="border: 1px solid #dbf9ff; padding: 8px; text-align: center;">
      <img src="icons/lomboklogo.png" width="55"/><br>Lombok
    </td>
    <td style="border: 1px solid #dbf9ff; padding: 8px; text-align: center;">
      <img src="icons/postmanlogo.png" width="40"/><br>Postman
    </td>
  </tr>
</table>

<div id="features">
<h2>Features ‚ú®</h2>
</div>

<h3>For Administrators üõ†Ô∏è</h3>

<ul>
  <li><strong>Catalog Management</strong>: full cycle of book operations ‚Äî adding, editing, and deleting items </li>
  <li><strong>Product Categorization</strong>: organizing books by genres for easy navigation </li>
  <li><strong>Order Processing</strong>: updating user order statuses </li>
</ul>

<h3>For Customers üõí</h3>

<ul>
  <li><strong>Flexible Search</strong>: multi-criteria book search by title, author, genre, and price range </li>
  <li><strong>Shopping Cart</strong>: adding selected books and placing orders </li>
</ul>

<div id="technical-specifications">
<h2>Technical Specifications ‚öôÔ∏è</h2>

<h3>Security üîê</h3>

<ul>
  <li><strong>Spring Security 6</strong>: modern application protection system </li>
  <li><strong>RBAC (Role-Based Access Control)</strong>: access rights management based on user roles </li>
  <li><strong>JWT Tokens</strong>: use of access and refresh tokens to ensure stateless architecture </li>
  <li><strong>Secure Authentication</strong>: reliable user login and authorization system </li>
</ul>

<h3>Reliability and Code Quality ‚úÖ</h3>

<ul>
  <li><strong>100% Test Coverage</strong>: all application layers (controllers, services, repositories) are fully tested </li>
  <li><strong>Modern Testing Tools</strong>: usage of Mockito and JUnit 5 </li>
  <li><strong>High Stability</strong>: risk minimization through comprehensive testing Ô∏è</li>
</ul>
</div>

<h2>Solution Advantages üöÄ</h2>

<ul>
  <li>Full-featured bookstore management system </li>
  <li>High level of data security </li>
  <li>Scalable architecture </li>
</ul>

<div id="endpoints">
<h2>Endpoints üì°</h2>
</div>

<h3>Authentication Management üîê</h3>
<table>
  <thead>
    <tr>
      <th>HTTP Request</th>
      <th>Endpoints</th>
      <th>Security requirement</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>POST</td>
      <td>/auth/login</td>
      <td>Public</td>
      <td>Authenticate users by email and password</td>
    </tr>
    <tr>
      <td>POST</td>
      <td>/auth/register</td>
      <td>Public</td>
      <td>Registration of new users</td>
    </tr>
    <tr>
      <td>POST</td>
      <td>/auth/token</td>
      <td>Public</td>
      <td>Get a new access token using refresh token</td>
    </tr>
    <tr>
      <td>POST</td>
      <td>/auth/refresh</td>
      <td>User</td>
      <td>Regenerate refresh and access tokens using access token</td>
    </tr>
  </tbody>
</table>

<h3>Book Management üìö</h3>
<table>
  <thead>
    <tr>
      <th>HTTP Request</th>
      <th>Endpoints</th>
      <th>Security requirement</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>GET</td>
      <td>/books</td>
      <td>User</td>
      <td>
        Get all books with pagination and sorting<br />
        <i>Example:</i> <code>/books?page=0&amp;size=10&amp;sort=title,DESC</code>
      </td>
    </tr>
    <tr>
      <td>GET</td>
      <td>/books/{bookId}</td>
      <td>User</td>
      <td>Get a book by its ID</td>
    </tr>
    <tr>
      <td>POST</td>
      <td>/books</td>
      <td>Admin</td>
      <td>Create a new book</td>
    </tr>
    <tr>
      <td>PATCH</td>
      <td>/books/{bookId}</td>
      <td>Admin</td>
      <td>Update book by its ID</td>
    </tr>
    <tr>
      <td>DELETE</td>
      <td>/books/{bookId}</td>
      <td>Admin</td>
      <td>Delete book by its ID</td>
    </tr>
    <tr>
      <td>GET</td>
      <td>/books/search</td>
      <td>User</td>
      <td>
        Search books by title, author, ISBN, or price range<br />
        <i>Example:</i> <code>/books/search?title=java&amp;page=0&amp;size=10</code>
      </td>
    </tr>
  </tbody>
</table>

<h3>Category Management üóÇÔ∏è</h3>
<table>
  <thead>
    <tr>
      <th>HTTP Request</th>
      <th>Endpoints</th>
      <th>Security requirement</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>POST</td>
      <td>/categories</td>
      <td>Admin</td>
      <td>Create a new category</td>
    </tr>
    <tr>
      <td>GET</td>
      <td>/categories</td>
      <td>User</td>
      <td>
        Get all categories with pagination and sorting<br />
        <i>Example:</i> <code>/categories?page=0&amp;size=10&amp;sort=name</code>
      </td>
    </tr>
    <tr>
      <td>GET</td>
      <td>/categories/{categoryId}</td>
      <td>User</td>
      <td>Get a category by its ID</td>
    </tr>
    <tr>
      <td>PATCH</td>
      <td>/categories/{categoryId}</td>
      <td>Admin</td>
      <td>Update a category by its ID</td>
    </tr>
    <tr>
      <td>DELETE</td>
      <td>/categories/{categoryId}</td>
      <td>Admin</td>
      <td>Delete a category by its ID</td>
    </tr>
    <tr>
      <td>GET</td>
      <td>/categories/{categoryId}/books</td>
      <td>User</td>
      <td>
        Get list of books by category ID with pagination<br />
        <i>Example:</i> <code>/categories/3/books?page=0&amp;size=5</code>
      </td>
    </tr>
  </tbody>
</table>

<h3>Order Management üõí</h3>
<table>
  <thead>
    <tr>
      <th>HTTP Request</th>
      <th>Endpoints</th>
      <th>Security requirement</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>POST</td>
      <td>/orders</td>
      <td>User</td>
      <td>Place a new order with shipping address</td>
    </tr>
    <tr>
      <td>PATCH</td>
      <td>/orders/cancel/{orderId}</td>
      <td>User</td>
      <td>Cancel an order if not yet processed</td>
    </tr>
    <tr>
      <td>GET</td>
      <td>/orders</td>
      <td>User</td>
      <td>Get all orders of the authenticated user with pagination</td>
    </tr>
    <tr>
      <td>PATCH</td>
      <td>/orders/{orderId}</td>
      <td>Admin</td>
      <td>Update order status (NEW, PROCESSED, SHIPPED, DELIVERED, CANCELED)</td>
    </tr>
    <tr>
      <td>GET</td>
      <td>/orders/{orderId}/items</td>
      <td>User</td>
      <td>Get all items in a specific order (paginated)</td>
    </tr>
    <tr>
      <td>GET</td>
      <td>/orders/{orderId}</td>
      <td>User</td>
      <td>Get order details by order ID</td>
    </tr>
    <tr>
      <td>GET</td>
      <td>/orders/{orderId}/items/{itemId}</td>
      <td>User</td>
      <td>Get specific item by order ID and item ID</td>
    </tr>
  </tbody>
</table>

<h3>Shopping Cart Management üõçÔ∏è</h3>
<table>
  <thead>
    <tr>
      <th>HTTP Request</th>
      <th>Endpoints</th>
      <th>Security requirement</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>GET</td>
      <td>/cart</td>
      <td>User</td>
      <td>Get the current user's shopping cart</td>
    </tr>
    <tr>
      <td>POST</td>
      <td>/cart</td>
      <td>User</td>
      <td>Add a book to the shopping cart</td>
    </tr>
    <tr>
      <td>DELETE</td>
      <td>/cart</td>
      <td>User</td>
      <td>Clear the current user's shopping cart</td>
    </tr>
    <tr>
      <td>PATCH</td>
      <td>/cart/items/{itemId}</td>
      <td>User</td>
      <td>Update quantity of a specific cart item</td>
    </tr>
    <tr>
      <td>DELETE</td>
      <td>/cart/items/{itemId}</td>
      <td>User</td>
      <td>Delete a specific cart item by its ID</td>
    </tr>
  </tbody>
</table>

<h3>User Management üë•</h3>
<table>
  <thead>
    <tr>
      <th>HTTP Request</th>
      <th>Endpoints</th>
      <th>Security requirement</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>PUT</td>
      <td>/users/{email}/role/{roleName}</td>
      <td>Admin</td>
      <td>Update user role by email and role name</td>
    </tr>
    <tr>
      <td>GET</td>
      <td>/users/me</td>
      <td>User</td>
      <td>Get information about the current user</td>
    </tr>
    <tr>
      <td>PATCH</td>
      <td>/users/me</td>
      <td>User</td>
      <td>Update current user's personal information</td>
    </tr>
  </tbody>
</table>

<div id="how-to-use">
<h2>How to Use the Project üõ†Ô∏è</h2>
</div>

<ol>
  <li>üê≥ Install Docker</li>
  <li>
    üì• Clone the project from GitHub:<br>
    <code>git clone https://github.com/Serhii-Bohatkin/book_store</code>
  </li>
  <li>
    ‚öôÔ∏è Create an <code>.env</code> file in the root directory.<br>
    Use <code>.env-sample</code> as a reference.
  </li>
  <li>
    üõ†Ô∏è Build the project:<br>
    <code>mvn clean package</code>
  </li>
  <li>
    üöÄ Start the app using Docker Compose:<br>
    <code>docker-compose up</code>
  </li>
  <li>
    üåê Open Swagger UI:<br>
    <code>http://localhost:8081/swagger-ui/index.html</code><br>
    port depends on your <code>.env</code> config. <br>For ease of testing, some books and categories have already been added to the database.
  </li>
</ol>

<h3>üì≠ You can also use Postman</h3>

  <ul>
    <li>
      <strong>Download the collection</strong> ‚Äî 
      <a href="https://github.com/Serhii-Bohatkin/book_store/blob/master/book-store-postman-collection.json">click here</a> and import it into Postman
    </li>
    <li>
      Example of how to import the collection:<br>
      <img src="icons/importcollection.gif" alt="Import example" width="800" style="border:1px solid #ccc; border-radius:4px;"/>
    </li>
  </ul>

<h3>üîê Using JWT Tokens via Postman</h3>

  <p><strong>1. üìù User Registration</strong><br>
  Send a <code>POST</code> request to <code>/auth/register</code> <br>
  In the Body tab, select <strong>raw ‚Üí JSON</strong> and provide:</p>

  <pre><code>{
  "email": "admin@gmail.com",
  "password": "xBO4cH2f5603Na4ZteL!",
  "repeatPassword": "xBO4cH2f5603Na4ZteL!",
  "firstName": "Jhon",
  "lastName": "Doe",
  "shippingAddress": "St. Main 1",
  "inviteCode": "secretCodeForRegisteringTheFirstAdmin"
}</code></pre>

<p>To register the first admin, use the email and invite code specified in your <code>.env</code> file.</p>

<p><strong>2. üîë Login</strong><br>
  Send a <code>POST</code> request to <code>/auth/login</code><br>
  Provide credentials:</p>

  <pre><code>{
  "email": "admin@gmail.com",
  "password": "xBO4cH2f5603Na4ZteL!"
}</code></pre>

<p>The response contains both <code>accessToken</code> and <code>refreshToken</code>.</p>

<p><strong>3. ‚úÖ Access Protected Endpoints</strong><br>
  In any authorized request (e.g., <code>GET /books</code>), go to the <strong>Authorization</strong> tab and set:<br>
  <code>Type: Bearer Token</code> <br>
  Paste your <code>accessToken</code> into the field.</p>

<p><strong>4. ‚ôªÔ∏è Refresh Access Token</strong><br>
  Send a <code>POST</code> request to <code>/auth/token</code><br>
  Body (raw ‚Üí JSON):</p>

  <pre><code>{
  "refreshToken": "yourRefreshToken"
}</code></pre>

<p>You will receive a new <code>accessToken</code>.</p>

<p><strong>5. üîÑ Regenerate Both Tokens</strong><br>
  Send a <code>POST</code> request to <code>/auth/refresh</code><br>
  Add header:<br>
  <code>Authorization: Bearer yourAccessToken</code><br>
  You will receive new <code>accessToken</code> and <code>refreshToken</code>.</p>

<div id="contact-information">
<h2>Contact Information üí¨</h2>
</div>

<ul style="list-style-type:none; padding-left:0;">
  <li><strong>LinkedIn:</strong> <a href="https://linkedin.com/in/serhii-bohatkin" target="_blank" rel="noopener noreferrer">linkedin.com/in/serhii-bohatkin</a></li>
  <li><strong>Telegram:</strong> <a href="https://t.me/serhii_bohatkin" target="_blank" rel="noopener noreferrer">@serhii_bohatkin</a></li>
</ul>
<p>Thank you for your attention!</p>
<br><br>

<p align="center">
  <a href="#top">
    <img src="icons/arrow.png" alt="To top" width="70" height="70"/>
  </a>
</p>
